import{s as k,q as p,o as r,a as i,w as a,x as o,J as S,e as l,z as d,bO as U,E as b,K as E,aP as f,bP as w,F as x,G as I,y as h}from"./index-9f0043d4.js";import{_ as A,E as B}from"./_plugin-vue_export-helper-b41661ce.js";import{E as C}from"./el-progress-da049466.js";/* empty css                */import{P}from"./PageContainer-78bcd8f4.js";import"./el-message-6ba39804.js";import"./isEqual-786acf56.js";const R=s=>(x("data-v-7fb19a76"),s=s(),I(),s),z=["src"],F=R(()=>h("br",null,null,-1)),N={__name:"UserAvatar",setup(s){const c=k(),n=p(),t=p(c.userInfo.user_pic),m=u=>{const e=new FileReader;e.readAsDataURL(u.raw),e.onload=()=>{t.value=e.result}},v=async()=>{await U(t.value),c.getUserInfo(),b.success("上传成功")};return(u,e)=>{const y=E,g=C,_=B;return r(),i(P,{title:"更换头像"},{default:a(()=>[o(g,{"auto-upload":!1,class:"avatar-uploader","show-file-list":!1,ref_key:"uploadRef",ref:n,"on-change":m},{default:a(()=>[t.value?(r(),S("img",{key:0,src:t.value,class:"avatar"},null,8,z)):(r(),i(y,{key:1,class:"avatar-uploader-icon"},{default:a(()=>[o(l(f))]),_:1}))]),_:1},512),F,o(_,{type:"primary",icon:l(f),size:"large",onClick:e[0]||(e[0]=V=>n.value.$el.querySelector("input").click())},{default:a(()=>[d("选择图片")]),_:1},8,["icon"]),o(_,{icon:l(w),size:"large",type:"success",onClick:v},{default:a(()=>[d("上传头像")]),_:1},8,["icon"])]),_:1})}}},M=A(N,[["__scopeId","data-v-7fb19a76"]]);export{M as default};
