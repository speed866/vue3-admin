import{s as v,q as s,o as V,a as k,w as a,x as e,z as E,bN as U,E as w}from"./index-4be069f4.js";import{E as x,a as y}from"./el-form-item-8259320f.js";import{E as I}from"./_plugin-vue_export-helper-287dd0a2.js";import{E as S}from"./el-input-6c4aaaf8.js";import{P as q}from"./PageContainer-726fbbad.js";import"./el-message-22564206.js";const T={__name:"UserProfile",setup(B){const{userInfo:{email:u,id:i,nickname:d,username:p},getUserInfo:f}=v(),l=s({username:p,nickname:d,email:u,id:i}),n=s(),_={nickname:[{required:!0,message:"请输入用户昵称",trigger:"blur"},{pattern:/^\S{2,10}$/,message:"昵称在2-10个非空字符之间",trigger:"blur"}],email:[{required:!0,message:"请输入用户邮箱",trigger:"blur"},{type:"email",message:"请输入正确的邮箱名",trigger:"blur"}]},c=async()=>{await n.value.validate(),await U(l.value),f(),w.success("修改成功")};return(C,t)=>{const m=S,r=x,g=I,b=y;return V(),k(q,{title:"基本资料"},{default:a(()=>[e(b,{model:l.value,rules:_,"label-width":"100px",style:{width:"50%"},ref_key:"formRef",ref:n},{default:a(()=>[e(r,{label:"登录名称"},{default:a(()=>[e(m,{disabled:"",modelValue:l.value.username,"onUpdate:modelValue":t[0]||(t[0]=o=>l.value.username=o)},null,8,["modelValue"])]),_:1}),e(r,{label:"用户昵称",prop:"nickname"},{default:a(()=>[e(m,{modelValue:l.value.nickname,"onUpdate:modelValue":t[1]||(t[1]=o=>l.value.nickname=o)},null,8,["modelValue"])]),_:1}),e(r,{label:"用户邮箱",prop:"email"},{default:a(()=>[e(m,{modelValue:l.value.email,"onUpdate:modelValue":t[2]||(t[2]=o=>l.value.email=o)},null,8,["modelValue"])]),_:1}),e(r,null,{default:a(()=>[e(g,{type:"primary",onClick:c},{default:a(()=>[E("提交修改")]),_:1})]),_:1})]),_:1},8,["model"])]),_:1})}}};export{T as default};
